From: Jason Rhinelander <jason@imaginary.ca>
Date: Fri, 29 Apr 2022 18:20:33 -0300
Subject: oxenc compatibility

---
 llarp/dht/messages/findname.cpp | 1 +
 llarp/dht/messages/gotname.cpp  | 1 +
 llarp/handlers/tun.cpp          | 3 +++
 llarp/peerstats/types.cpp       | 1 +
 llarp/quic/connection.cpp       | 1 +
 llarp/router_contact.hpp        | 4 ++--
 llarp/rpc/lokid_rpc_client.cpp  | 2 ++
 7 files changed, 11 insertions(+), 2 deletions(-)

diff --git a/llarp/dht/messages/findname.cpp b/llarp/dht/messages/findname.cpp
index 929db0e..49753fb 100644
--- a/llarp/dht/messages/findname.cpp
+++ b/llarp/dht/messages/findname.cpp
@@ -1,5 +1,6 @@
 #include "findname.hpp"
 #include <oxenmq/bt_serialize.h>
+#include <oxenmq/bt_value.h>
 #include <llarp/dht/context.hpp>
 #include "gotname.hpp"
 #include <llarp/router/abstractrouter.hpp>
diff --git a/llarp/dht/messages/gotname.cpp b/llarp/dht/messages/gotname.cpp
index 47efe58..a3231f1 100644
--- a/llarp/dht/messages/gotname.cpp
+++ b/llarp/dht/messages/gotname.cpp
@@ -1,5 +1,6 @@
 #include "gotname.hpp"
 #include <oxenmq/bt_serialize.h>
+#include <oxenmq/bt_value.h>
 #include <llarp/dht/context.hpp>
 #include <llarp/router/abstractrouter.hpp>
 #include <llarp/path/path_context.hpp>
diff --git a/llarp/handlers/tun.cpp b/llarp/handlers/tun.cpp
index 5677fc1..f24864e 100644
--- a/llarp/handlers/tun.cpp
+++ b/llarp/handlers/tun.cpp
@@ -30,6 +30,9 @@
 
 #include <llarp/dns/srv_data.hpp>
 
+#include <oxenmq/bt_serialize.h>
+#include <oxenmq/bt_value.h>
+
 namespace llarp
 {
   namespace handlers
diff --git a/llarp/peerstats/types.cpp b/llarp/peerstats/types.cpp
index e66918b..7390801 100644
--- a/llarp/peerstats/types.cpp
+++ b/llarp/peerstats/types.cpp
@@ -2,6 +2,7 @@
 
 #include <llarp/util/str.hpp>
 #include <oxenmq/bt_serialize.h>
+#include <oxenmq/bt_value.h>
 #include <stdexcept>
 
 namespace llarp
diff --git a/llarp/quic/connection.cpp b/llarp/quic/connection.cpp
index 7789083..045832b 100644
--- a/llarp/quic/connection.cpp
+++ b/llarp/quic/connection.cpp
@@ -17,6 +17,7 @@
 #include <iterator>
 #include <oxenmq/hex.h>
 #include <oxenmq/bt_serialize.h>
+#include <oxenmq/bt_value.h>
 
 extern "C"
 {
diff --git a/llarp/router_contact.hpp b/llarp/router_contact.hpp
index bb500df..28b3e89 100644
--- a/llarp/router_contact.hpp
+++ b/llarp/router_contact.hpp
@@ -18,7 +18,7 @@
 #define MAX_RC_SIZE (1024)
 #define NICKLEN (32)
 
-namespace oxenmq
+namespace oxenc
 {
   class bt_list_consumer;
 }  // namespace oxenmq
@@ -226,7 +226,7 @@ namespace llarp
     DecodeVersion_0(llarp_buffer_t* buf);
 
     bool
-    DecodeVersion_1(oxenmq::bt_list_consumer& btlist);
+    DecodeVersion_1(oxenc::bt_list_consumer& btlist);
   };
 
   inline std::ostream&
diff --git a/llarp/rpc/lokid_rpc_client.cpp b/llarp/rpc/lokid_rpc_client.cpp
index ea7122e..90ceb56 100644
--- a/llarp/rpc/lokid_rpc_client.cpp
+++ b/llarp/rpc/lokid_rpc_client.cpp
@@ -9,6 +9,8 @@
 
 #include <llarp/util/time.hpp>
 
+#include <oxenmq/bt_serialize.h>
+
 namespace llarp
 {
   namespace rpc
